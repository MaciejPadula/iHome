<div class="rooms" cdkDropListGroup>
    <add-room></add-room>
    <mat-card class="room-card" *ngFor="let room of rooms" bgColor="primary">
        <mat-card-title>{{room.roomName}}</mat-card-title>
        <mat-card-subtitle>{{room.roomId}}</mat-card-subtitle>
        <mat-card-content>
            <div *ngIf="this.uuid == room.masterUuid" class="room-options">
                <app-share-list roomId={{room.roomId}}></app-share-list>
                <app-remove-room roomName={{room.roomName}} roomId={{room.roomId}}></app-remove-room>
            </div>
            <div *ngIf="this.uuid != room.masterUuid" class="room-options">
                <mat-icon fontIcon="share"
                    matTooltip="This room is shared to you by another user"
                ></mat-icon>
            </div>
            <div
                class="device-container"
                cdkDropList
                [cdkDropListData]="{devices: room.devices, roomId: room.roomId}"
                (cdkDropListDropped)="drop($event)"
            >
                <app-device 
                    *ngFor="let device of sortDevices(room.devices)"
                    [device]=device
                    cdkDrag
                    [cdkDragData]="device.deviceId"
                    [cdkDragDisabled]="this.uuid != room.masterUuid"
                ></app-device>
            </div>
        </mat-card-content>
        <mat-card-actions></mat-card-actions>
    </mat-card>
</div>